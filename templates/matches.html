<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HackMate Matches</title>

    <style>
        body {
            font-family: Inter, sans-serif;
            background: #f9fafb;
            padding: 40px;
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        input, select {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        .profiles {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
        }

        .profile-card {
            background: white;
            width: 230px;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .profile-card img {
            width: 90px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .btn {
            margin-top: 10px;
            padding: 8px 12px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            background: #4f46e5;
            color: white;
        }
    </style>
</head>

<body>

<h2>Suggested Hackmates</h2>

<!-- FILTERS -->
<div class="controls">
    <input type="text" id="searchUser" placeholder="Search by name">
    <input type="text" id="collegeFilter" placeholder="College">

    <select id="interestFilter">
        <option value="">Project Interest</option>
        <option value="AI">AI</option>
        <option value="Web">Web</option>
        <option value="Blockchain">Blockchain</option>
        <option value="Hardware">Hardware</option>
    </select>

    <select id="skillFilter">
        <option value="">Skill</option>
        <option value="Python">Python</option>
        <option value="JavaScript">JavaScript</option>
        <option value="ML">ML</option>
        <option value="Frontend">Frontend</option>
    </select>

    <select id="themeFilter">
        <option value="">Hackathon Theme</option>
        <option value="Full Stack">Full Stack</option>
        <option value="Blockchain">Blockchain</option>
        <option value="AI">AI</option>
    </select>

    <select id="modeFilter">
        <option value="">Mode</option>
        <option value="Online">Online</option>
        <option value="Offline">Offline</option>
    </select>

    <select id="experienceFilter">
        <option value="">Experience (Years)</option>
        <option value="1">1+</option>
        <option value="2">2+</option>
        <option value="3">3+</option>
    </select>

    <select id="winsFilter">
        <option value="">Hackathons Won</option>
        <option value="1">1+</option>
        <option value="2">2+</option>
        <option value="3">3+</option>
    </select>
</div>

<!-- PROFILES -->
<div id="profiles" class="profiles"></div>

<script>
const users = [
    {
        name: "Aarav",
        college: "IIT Delhi",
        interest: "AI",
        skills: ["Python", "ML"],
        theme: "AI",
        experience: 3,
        wins: 2,
        mode: "Online"
    },
    {
        name: "Meera",
        college: "NIT Trichy",
        interest: "Web",
        skills: ["JavaScript", "Frontend"],
        theme: "Full Stack",
        experience: 2,
        wins: 1,
        mode: "Offline"
    },
    {
        name: "Rohan",
        college: "BITS Pilani",
        interest: "Blockchain",
        skills: ["JavaScript"],
        theme: "Blockchain",
        experience: 4,
        wins: 3,
        mode: "Online"
    }
];

function goToChat(username) {
    window.location.href = `chat.html?user=${encodeURIComponent(username)}`;
}

function renderProfiles(data) {
    const container = document.getElementById("profiles");
    container.innerHTML = "";

    if (data.length === 0) {
        container.innerHTML = "<p>No users found</p>";
        return;
    }

    data.forEach(u => {
        container.innerHTML += `
            <div class="profile-card">
                <img src="https://ui-avatars.com/api/?name=${u.name}">
                <h4>${u.name}</h4>
                <p>${u.college}</p>
                <p>Interest: ${u.interest}</p>
                <p>Skills: ${u.skills.join(", ")}</p>
                <p>Experience: ${u.experience} yrs</p>
                <button class="btn" onclick="goToChat('${u.name}')">
                    Message
                </button>
            </div>
        `;
    });
}

function applyFilters() {
    let filtered = [...users];

    const search = searchUser.value.toLowerCase();
    const college = collegeFilter.value.toLowerCase();
    const interest = interestFilter.value;
    const skill = skillFilter.value;
    const theme = themeFilter.value;
    const mode = modeFilter.value;
    const exp = experienceFilter.value;
    const wins = winsFilter.value;

    if (search) filtered = filtered.filter(u => u.name.toLowerCase().includes(search));
    if (college) filtered = filtered.filter(u => u.college.toLowerCase().includes(college));
    if (interest) filtered = filtered.filter(u => u.interest === interest);
    if (skill) filtered = filtered.filter(u => u.skills.includes(skill));
    if (theme) filtered = filtered.filter(u => u.theme === theme);
    if (mode) filtered = filtered.filter(u => u.mode === mode);
    if (exp) filtered = filtered.filter(u => u.experience >= exp);
    if (wins) filtered = filtered.filter(u => u.wins >= wins);

    renderProfiles(filtered);
}

document.querySelectorAll("input, select").forEach(el => {
    el.addEventListener("input", applyFilters);
});

renderProfiles(users);
</script>

</body>
</html>
